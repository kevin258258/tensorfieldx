<div class="fixed inset-0 z-0 w-full h-full pointer-events-none bg-void">
    <div class="absolute inset-0 z-0 opacity-[0.15]"
         style="background-image: linear-gradient(#333 1px, transparent 1px), linear-gradient(90deg, #333 1px, transparent 1px); background-size: 40px 40px;">
    </div>
    
    <canvas id="grid-canvas" class="absolute inset-0 z-1 mix-blend-screen"></canvas>
</div>

<script>
  const canvas = document.getElementById('grid-canvas') as HTMLCanvasElement;
  const ctx = canvas?.getContext('2d');

  if (canvas && ctx) {
    let width: number, height: number;
    // 鼠标位置初始化在屏幕外
    let mouseX = -999, mouseY = -999;

    const resize = () => {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
    };

    // 监听鼠标移动
    window.addEventListener('mousemove', (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
    });

    const draw = () => {
      ctx.clearRect(0, 0, width, height);

      // 绘制“手电筒”光斑
      // 一个跟随鼠标的径向渐变，中心微亮，边缘透明
      const gradient = ctx.createRadialGradient(mouseX, mouseY, 0, mouseX, mouseY, 250);
      gradient.addColorStop(0, 'rgba(255, 51, 0, 0.12)'); // 中心淡淡的橙色
      gradient.addColorStop(1, 'rgba(255, 51, 0, 0)');

      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, width, height);

      // 绘制鼠标十字准星 (Crosshair)
      // 极细的线，增加瞄准感
      ctx.strokeStyle = 'rgba(255, 51, 0, 0.5)';
      ctx.lineWidth = 0.5;
      ctx.beginPath();
      // 这里的 10 是十字的大小
      ctx.moveTo(mouseX - 10, mouseY);
      ctx.lineTo(mouseX + 10, mouseY);
      ctx.moveTo(mouseX, mouseY - 10);
      ctx.lineTo(mouseX, mouseY + 10);
      ctx.stroke();

      requestAnimationFrame(draw);
    };

    window.addEventListener('resize', resize);
    resize();
    draw();
  }
</script>